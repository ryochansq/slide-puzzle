(this["webpackJsonpslide-puzzle"]=this["webpackJsonpslide-puzzle"]||[]).push([[0],{60:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(11),c=n.n(r),o=(n(60),n(17)),s=n(48),l=n(99),j=n(100),u=n(101),h=n(102),d=n(51),b=n(97),p=n(98),O=n(107),f=n(106),v=n(49),m=n(28),g=function t(e,n,i){var a=this;Object(m.a)(this,t),this.i=void 0,this.j=void 0,this.isLowerRight=void 0,this.calcKey=function(t,e){return 100*t+e},this.key=function(){return a.calcKey(a.i,a.j)},this.isRightPosition=function(t,e){return a.calcKey(t,e)===a.key()},this.i=e,this.j=n,this.isLowerRight=i},x=[-1,0,0,1],w=[0,-1,1,0],y=function t(e,n){var i=this;Object(m.a)(this,t),this.panels=void 0,this.split=void 0,this.getMovingDirection=function(t,e){for(var n=0;n<4;n+=1){var a=t+x[n],r=e+w[n];if(i.panels[a][r].isLowerRight)return[x[n],w[n]]}return[0,0]},this.move=function(e,n,a,r){var c=e+a,o=n+r,s=i.panels.map((function(t){return t.map((function(t){return new g(t.i,t.j,t.isLowerRight)}))}));s[e][n]=i.panels[c][o],s[c][o]=i.panels[e][n];var l=new t(i.split,!1);return l.panels=s,l},this.solved=function(){for(var t=!0,e=0;e<i.split+2;e+=1)for(var n=0;n<i.split+2;n+=1)i.panels[e][n].isRightPosition(e,n)||(t=!1);return t};var a=Object(v.a)(Array(e+2)).map((function(){return Array(e+2).fill(new g(-1,-1,!1))}));if(a.forEach((function(t,n){return t.forEach((function(t,i){a[n][i]=new g(n,i,n===e&&i===e)}))})),n)for(var r=e,c=e,o=0;o<1e4;o+=1){var s=Math.floor(4*Math.random()),l=r+x[s],j=c+w[s];if(l>=1&&l<=e&&j>=1&&j<=e){var u=new g(a[r][c].i,a[r][c].j,a[r][c].isLowerRight),h=new g(a[l][j].i,a[l][j].j,a[l][j].isLowerRight);a[l][j]=u,a[r][c]=h,r=l,c=j}}this.panels=a,this.split=e},R=n(103),k=n(93),L=n(94),S=n(105),C=n(95),D=n(104),z=n(96),I=n(4),N=function(t){var e=t.isDialogOpen,n=t.split,i=t.setIsDialogOpen,a=t.setSplit;return Object(I.jsxs)(R.a,{open:e,children:[Object(I.jsx)(k.a,{children:"\u96e3\u6613\u5ea6\u3092\u9078\u629e"}),Object(I.jsx)(L.a,{children:Object(I.jsxs)(S.a,{value:n,onChange:function(t){return a(parseInt(t.target.value,10))},children:[Object(I.jsx)(C.a,{control:Object(I.jsx)(D.a,{value:3}),label:"\u304b\u3093\u305f\u3093\u3000\u3000 3\xd73"}),Object(I.jsx)(C.a,{control:Object(I.jsx)(D.a,{value:4}),label:"\u3075\u3064\u3046\u3000\u3000\u3000 4\xd74"}),Object(I.jsx)(C.a,{control:Object(I.jsx)(D.a,{value:5}),label:"\u3080\u305a\u304b\u3057\u3044\u3000 5\xd75"})]})}),Object(I.jsx)(z.a,{children:Object(I.jsx)(b.a,{onClick:function(){return i(!1)},color:"primary",variant:"contained",children:"OK"})})]})},U=Object(s.a)({palette:{secondary:{main:"#00acee"}}}),W=Object(p.a)((function(){return Object(O.a)({container:{userSelect:"none"},row:{backgroundColor:"lightgray"},imgWrapper:{position:"relative",width:"100%",overflow:"hidden"},img:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},button:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",color:"transparent",cursor:"pointer",padding:0},twitter:{color:"white",fontWeight:700,textTransform:"none"}})})),E=function(){var t=W(),e=Object(i.useState)(void 0),n=Object(o.a)(e,2),a=n[0],r=n[1],c=Object(i.useState)("100%"),s=Object(o.a)(c,2),p=s[0],O=s[1],v=Object(i.useState)(4),m=Object(o.a)(v,2),g=m[0],x=m[1],w=Object(i.useState)(!1),R=Object(o.a)(w,2),k=R[0],L=R[1],S=Object(i.useState)(new y(g,!0)),C=Object(o.a)(S,2),D=C[0],z=C[1],E=Object(i.useState)({i:-1,j:-1,di:0,dj:0}),M=Object(o.a)(E,2),F=M[0],K=M[1];Object(i.useEffect)((function(){return z(new y(g,!0))}),[a,g]);var A="".concat(100/D.split,"%"),T=a?"\u5225\u306e\u753b\u50cf\u3092\u9078\u629e":"\u30d1\u30ba\u30eb\u306b\u3057\u305f\u3044\u753b\u50cf\u3092\u9078\u629e",J=function(t,e){var n=.5-(e-.5)/D.split,i=.5-(t-.5)/D.split;return"scale(".concat(D.split,") translate(").concat(100*n,"%, ").concat(100*i,"%) ")},P=function(t){return"entering"===t?"all ".concat(100,"ms ease-in-out"):"none"},q=function(t){var e="entering"===t||"entered"===t,n=e?100*F.dj:0,i=e?100*F.di:0;return"translate(".concat(n,"%, ").concat(i,"%)")},B=function(){var t=D.move(F.i,F.j,F.di,F.dj);z(t),K({i:-1,j:-1,di:0,dj:0})};return Object(I.jsxs)(l.a,{theme:U,children:[Object(I.jsxs)(j.a,{component:"main",maxWidth:"xs",className:t.container,children:[Object(I.jsx)(u.a,{}),Object(I.jsxs)(h.a,{container:!0,spacing:4,children:[Object(I.jsx)(h.a,{item:!0,container:!0,justify:"center",children:Object(I.jsx)(d.a,{component:"h1",variant:"h5",children:"\u306a\u3093\u3067\u3082\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb"})}),Object(I.jsx)(h.a,{item:!0,container:!0,justify:"center",children:Object(I.jsxs)(b.a,{fullWidth:!a,variant:"contained",color:"primary",component:"label",children:[T,Object(I.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){var e=t.target.files,n=e&&e.length?e[0]:null;if(n){r(void 0);var i=new Image;i.onload=function(){URL.revokeObjectURL(i.src),O("".concat(i.naturalHeight/i.naturalWidth*100,"%"))},i.src=URL.createObjectURL(n);var a=new FileReader;a.readAsDataURL(n),a.onload=function(){var t=a.result;r(t)},t.target.value="",L(!0)}}})]})}),a&&Object(I.jsx)(h.a,{item:!0,container:!0,xs:12,children:D.panels.map((function(e,n){return n<1||D.split<n?null:Object(I.jsx)(h.a,{item:!0,container:!0,direction:"row",className:t.row,children:e.map((function(e,i){return i<1||D.split<i?null:Object(I.jsx)(f.a,{in:F.i===n&&F.j===i,timeout:100,onEntered:B,children:function(r){return Object(I.jsx)(h.a,{item:!0,container:!0,justify:"center",style:{transition:P(r),transform:q(r),width:A},children:Object(I.jsx)("div",{className:t.imgWrapper,style:{paddingTop:p},children:(!e.isLowerRight||D.solved())&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("img",{src:a,alt:"\u9078\u629e\u753b\u50cf",className:t.img,style:{transform:J(e.i,e.j)}}),!D.solved()&&Object(I.jsx)("button",{type:"button",className:t.button,onClick:function(){return function(t,e){var n=D.getMovingDirection(t,e),i=Object(o.a)(n,2),a=i[0],r=i[1];0===a&&0===r||K({i:t,j:e,di:a,dj:r})}(n,i)},children:" "})]})})})}},e.key())}))},e[0].key())}))}),D.solved()&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(h.a,{item:!0,container:!0,justify:"center",children:Object(I.jsx)(d.a,{component:"h1",variant:"h5",children:"\u5b8c\u6210\uff01\uff01"})}),Object(I.jsx)(h.a,{item:!0,container:!0,justify:"center",children:Object(I.jsx)(b.a,{variant:"contained",color:"secondary",className:t.twitter,onClick:function(){var t="\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb(".concat(3===g?"\u304b\u3093\u305f\u3093":4===g?"\u3075\u3064\u3046":"\u3080\u305a\u304b\u3057\u3044",")\u3092\u5b8c\u6210\u3055\u305b\u307e\u3057\u305f\uff01\n\nryochansq.github.io/slide-puzzle/\n\n#\u306a\u3093\u3067\u3082\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb"),e=encodeURIComponent(t),n="https://twitter.com/intent/tweet?text=".concat(e);window.open(n)},children:"Twitter\u3067\u5171\u6709"})})]})]})]}),Object(I.jsx)(N,{isDialogOpen:k,setIsDialogOpen:L,split:g,setSplit:x})]})};c.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(E,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.2070160b.chunk.js.map