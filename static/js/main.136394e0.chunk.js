(this["webpackJsonpslide-puzzle"]=this["webpackJsonpslide-puzzle"]||[]).push([[0],{37:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(11),c=n.n(a),o=(n(37),n(30)),s=n(13),l=n(24),u=n(61),j=n(62),h=n(63),d=n(64),b=n(65),f=n(59),p=n(66),m=n(3),O=Object(f.a)((function(){return Object(p.a)({container:{userSelect:"none"},imgWrapper:{position:"relative",width:"100%",overflow:"hidden"},img:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},button:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",color:"transparent",cursor:"pointer",padding:0}})})),v=function t(e,n,i){var r=this;Object(l.a)(this,t),this.i=void 0,this.j=void 0,this.split=void 0,this.calcKey=function(t,e){return t*(r.split+2)+e},this.key=function(){return r.calcKey(r.i,r.j)},this.isRightPosition=function(t,e){return r.calcKey(t,e)===r.key()},this.isLowerRight=function(){return r.i===r.split&&r.j===r.split},this.i=e,this.j=n,this.split=i},g=[-1,0,0,1],x=[0,-1,1,0],y=function(){var t=O(),e=Object(i.useState)(void 0),n=Object(s.a)(e,2),r=n[0],a=n[1],c=Object(i.useState)("100%"),l=Object(s.a)(c,2),f=l[0],p=l[1],y=Object(i.useState)(4),w=Object(s.a)(y,1)[0],R=Object(i.useState)([]),k=Object(s.a)(R,2),S=k[0],L=k[1],z=Object(i.useState)(!1),M=Object(s.a)(z,2),U=M[0],W=M[1];Object(i.useEffect)((function(){W(!1);for(var t=Object(o.a)(Array(w+2)).map((function(){return Array(w+2).fill(new v(-1,-1,w))})),e=0;e<w+2;e+=1)for(var n=0;n<w+2;n+=1)t[e][n]=new v(e,n,w);for(var i=w,r=w,a=0;a<1e3;a+=1){var c=Math.floor(4*Math.random()),s=i+g[c],l=r+x[c];if(s>=1&&s<=w&&l>=1&&l<=w){var u=new v(t[i][r].i,t[i][r].j,w),j=new v(t[s][l].i,t[s][l].j,w);t[s][l]=u,t[i][r]=j,i=s,r=l}}L(t)}),[w,r]);var C=Math.floor(12/w),F=r?"Select another image":"Select image",N=function(t,e){var n=.5-(e-.5)/w,i=.5-(t-.5)/w;return"scale(".concat(w,") translate(").concat(100*n,"%, ").concat(100*i,"%) ")},A=function(t){for(var e=!0,n=0;n<w+2;n+=1)for(var i=0;i<w+2;i+=1)t[n][i].isRightPosition(n,i)||(e=!1);return e};return Object(m.jsxs)(u.a,{component:"main",maxWidth:"xs",className:t.container,children:[Object(m.jsx)(j.a,{}),Object(m.jsxs)(h.a,{container:!0,spacing:4,children:[Object(m.jsx)(h.a,{item:!0,container:!0,justify:"center",children:Object(m.jsx)(d.a,{component:"h1",variant:"h5",children:"Slide Puzzle Maker"})}),Object(m.jsx)(h.a,{item:!0,container:!0,justify:"center",children:Object(m.jsxs)(b.a,{fullWidth:!r,variant:"contained",color:"primary",component:"label",children:[F,Object(m.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){var e=t.target.files,n=e&&e.length?e[0]:null;if(n){var i=new Image;i.onload=function(){URL.revokeObjectURL(i.src),p("".concat(i.naturalHeight/i.naturalWidth*100,"%"))},i.src=URL.createObjectURL(n);var r=new FileReader;r.readAsDataURL(n),r.onload=function(){var t=r.result;a(t)}}}})]})}),r&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(h.a,{item:!0,container:!0,xs:12,children:S.map((function(e,n){return n<1||w<n?null:Object(m.jsx)(h.a,{item:!0,container:!0,direction:"row",children:e.map((function(e,i){return i<1||w<i?null:Object(m.jsx)(h.a,{item:!0,container:!0,xs:C,justify:"center",children:Object(m.jsx)("div",{className:t.imgWrapper,style:{paddingTop:f},children:(!e.isLowerRight()||U)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{src:r,alt:"\u9078\u629e\u753b\u50cf",className:t.img,style:{transform:N(e.i,e.j)}}),!U&&Object(m.jsx)("button",{type:"button",className:t.button,onClick:function(){return function(t,e){for(var n=0;n<4;n+=1){var i=t+g[n],r=e+x[n];if(S[i][r].isLowerRight()){var a=S.map((function(t){return t.map((function(t){return new v(t.i,t.j,w)}))}));return a[t][e]=S[i][r],a[i][r]=S[t][e],L(a),void W(A(a))}}}(n,i)},children:" "})]})})},e.key())}))},e[0].key())}))})}),U&&Object(m.jsx)(h.a,{item:!0,container:!0,justify:"center",children:Object(m.jsx)(d.a,{component:"h1",variant:"h5",children:"Congratulations!!"})})]})]})};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.136394e0.chunk.js.map