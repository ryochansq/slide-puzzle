(this["webpackJsonpslide-puzzle"]=this["webpackJsonpslide-puzzle"]||[]).push([[0],{41:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(11),c=n.n(a),o=(n(41),n(14)),s=n(65),l=n(66),u=n(67),j=n(68),h=n(69),d=n(63),p=n(70),f=n(71),b=n(33),v=n(19),m=function t(e,n,i){var r=this;Object(v.a)(this,t),this.i=void 0,this.j=void 0,this.isLowerRight=void 0,this.calcKey=function(t,e){return 100*t+e},this.key=function(){return r.calcKey(r.i,r.j)},this.isRightPosition=function(t,e){return r.calcKey(t,e)===r.key()},this.i=e,this.j=n,this.isLowerRight=i},g=[-1,0,0,1],O=[0,-1,1,0],w=function t(e,n){var i=this;Object(v.a)(this,t),this.panels=void 0,this.split=void 0,this.getMovingDirection=function(t,e){for(var n=0;n<4;n+=1){var r=t+g[n],a=e+O[n];if(i.panels[r][a].isLowerRight)return[g[n],O[n]]}return[0,0]},this.move=function(e,n,r,a){var c=e+r,o=n+a,s=i.panels.map((function(t){return t.map((function(t){return new m(t.i,t.j,t.isLowerRight)}))}));s[e][n]=i.panels[c][o],s[c][o]=i.panels[e][n];var l=new t(i.split,!1);return l.panels=s,l},this.solved=function(){for(var t=!0,e=0;e<i.split+2;e+=1)for(var n=0;n<i.split+2;n+=1)i.panels[e][n].isRightPosition(e,n)||(t=!1);return t};for(var r=Object(b.a)(Array(e+2)).map((function(){return Array(e+2).fill(new m(-1,-1,!1))})),a=0;a<e+2;a+=1)for(var c=0;c<e+2;c+=1)r[a][c]=new m(a,c,a===e&&c===e);if(n)for(var o=e,s=e,l=0;l<1e3;l+=1){var u=Math.floor(4*Math.random()),j=o+g[u],h=s+O[u];if(j>=1&&j<=e&&h>=1&&h<=e){var d=new m(r[o][s].i,r[o][s].j,r[o][s].isLowerRight),p=new m(r[j][h].i,r[j][h].j,r[j][h].isLowerRight);r[j][h]=d,r[o][s]=p,o=j,s=h}}this.panels=r,this.split=e},x=n(3),y=Object(d.a)((function(){return Object(p.a)({container:{userSelect:"none"},row:{backgroundColor:"lightgray"},imgWrapper:{position:"relative",width:"100%",overflow:"hidden"},img:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},button:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",color:"transparent",cursor:"pointer",padding:0}})})),R=function(){var t=y(),e=Object(i.useState)(void 0),n=Object(o.a)(e,2),r=n[0],a=n[1],c=Object(i.useState)("100%"),d=Object(o.a)(c,2),p=d[0],b=d[1],v=Object(i.useState)(new w(4,!1)),m=Object(o.a)(v,2),g=m[0],O=m[1],R=Object(i.useState)({i:-1,j:-1,di:0,dj:0}),L=Object(o.a)(R,2),k=L[0],S=L[1];Object(i.useEffect)((function(){O((function(t){return new w(t.split,!0)}))}),[r]);var M=Math.floor(12/g.split),z=r?"Select another image":"Select image",C=function(t,e){var n=.5-(e-.5)/g.split,i=.5-(t-.5)/g.split;return"scale(".concat(g.split,") translate(").concat(100*n,"%, ").concat(100*i,"%) ")},N=function(t){return"entering"===t?"all ".concat(100,"ms ease-in-out"):"none"},U=function(t){var e="entering"===t||"entered"===t,n=e?100*k.dj:0,i=e?100*k.di:0;return"translate(".concat(n,"%, ").concat(i,"%)")},W=function(){var t=g.move(k.i,k.j,k.di,k.dj);O(t),S({i:-1,j:-1,di:0,dj:0})};return Object(x.jsxs)(s.a,{component:"main",maxWidth:"xs",className:t.container,children:[Object(x.jsx)(l.a,{}),Object(x.jsxs)(u.a,{container:!0,spacing:4,children:[Object(x.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(x.jsx)(j.a,{component:"h1",variant:"h5",children:"Slide Puzzle Maker"})}),Object(x.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(x.jsxs)(h.a,{fullWidth:!r,variant:"contained",color:"primary",component:"label",children:[z,Object(x.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){var e=t.target.files,n=e&&e.length?e[0]:null;if(n){var i=new Image;i.onload=function(){URL.revokeObjectURL(i.src),b("".concat(i.naturalHeight/i.naturalWidth*100,"%"))},i.src=URL.createObjectURL(n);var r=new FileReader;r.readAsDataURL(n),r.onload=function(){var t=r.result;a(t)}}}})]})}),r&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(u.a,{item:!0,container:!0,xs:12,children:g.panels.map((function(e,n){return n<1||g.split<n?null:Object(x.jsx)(u.a,{item:!0,container:!0,direction:"row",className:t.row,children:e.map((function(e,i){return i<1||g.split<i?null:Object(x.jsx)(f.a,{in:k.i===n&&k.j===i,timeout:100,onEntered:W,children:function(a){return Object(x.jsx)(u.a,{item:!0,container:!0,xs:M,justify:"center",style:{transition:N(a),transform:U(a)},children:Object(x.jsx)("div",{className:t.imgWrapper,style:{paddingTop:p},children:(!e.isLowerRight||g.solved())&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:r,alt:"\u9078\u629e\u753b\u50cf",className:t.img,style:{transform:C(e.i,e.j)}}),!g.solved()&&Object(x.jsx)("button",{type:"button",className:t.button,onClick:function(){return function(t,e){var n=g.getMovingDirection(t,e),i=Object(o.a)(n,2),r=i[0],a=i[1];0===r&&0===a||S({i:t,j:e,di:r,dj:a})}(n,i)},children:" "})]})})})}},e.key())}))},e[0].key())}))})}),g.solved()&&Object(x.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(x.jsx)(j.a,{component:"h1",variant:"h5",children:"Congratulations!!"})})]})]})};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(R,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.0142542d.chunk.js.map