(this["webpackJsonpslide-puzzle"]=this["webpackJsonpslide-puzzle"]||[]).push([[0],{46:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(11),c=n.n(a),o=(n(46),n(15)),s=n(38),l=n(73),j=n(74),h=n(75),u=n(76),d=n(54),p=n(78),f=n(77),b=n(72),m=n(79),v=n(80),O=n(39),g=n(20),w=function t(e,n,i){var r=this;Object(g.a)(this,t),this.i=void 0,this.j=void 0,this.isLowerRight=void 0,this.calcKey=function(t,e){return 100*t+e},this.key=function(){return r.calcKey(r.i,r.j)},this.isRightPosition=function(t,e){return r.calcKey(t,e)===r.key()},this.i=e,this.j=n,this.isLowerRight=i},x=[-1,0,0,1],y=[0,-1,1,0],R=function t(e,n){var i=this;Object(g.a)(this,t),this.panels=void 0,this.split=void 0,this.getMovingDirection=function(t,e){for(var n=0;n<4;n+=1){var r=t+x[n],a=e+y[n];if(i.panels[r][a].isLowerRight)return[x[n],y[n]]}return[0,0]},this.move=function(e,n,r,a){var c=e+r,o=n+a,s=i.panels.map((function(t){return t.map((function(t){return new w(t.i,t.j,t.isLowerRight)}))}));s[e][n]=i.panels[c][o],s[c][o]=i.panels[e][n];var l=new t(i.split,!1);return l.panels=s,l},this.solved=function(){for(var t=!0,e=0;e<i.split+2;e+=1)for(var n=0;n<i.split+2;n+=1)i.panels[e][n].isRightPosition(e,n)||(t=!1);return t};for(var r=Object(O.a)(Array(e+2)).map((function(){return Array(e+2).fill(new w(-1,-1,!1))})),a=0;a<e+2;a+=1)for(var c=0;c<e+2;c+=1)r[a][c]=new w(a,c,a===e&&c===e);if(n)for(var o=e,s=e,l=0;l<1e3;l+=1){var j=Math.floor(4*Math.random()),h=o+x[j],u=s+y[j];if(h>=1&&h<=e&&u>=1&&u<=e){var d=new w(r[o][s].i,r[o][s].j,r[o][s].isLowerRight),p=new w(r[h][u].i,r[h][u].j,r[h][u].isLowerRight);r[h][u]=d,r[o][s]=p,o=h,s=u}}this.panels=r,this.split=e},k=n(2),L=Object(s.a)({palette:{secondary:{main:"#00acee"}}}),z=Object(b.a)((function(){return Object(m.a)({container:{userSelect:"none"},row:{backgroundColor:"lightgray"},imgWrapper:{position:"relative",width:"100%",overflow:"hidden"},img:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},button:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",color:"transparent",cursor:"pointer",padding:0},twitter:{color:"white",fontWeight:700,textTransform:"none"}})})),C=function(){var t=z(),e=Object(i.useState)(void 0),n=Object(o.a)(e,2),r=n[0],a=n[1],c=Object(i.useState)("100%"),s=Object(o.a)(c,2),b=s[0],m=s[1],O=Object(i.useState)(new R(4,!1)),g=Object(o.a)(O,2),w=g[0],x=g[1],y=Object(i.useState)({i:-1,j:-1,di:0,dj:0}),C=Object(o.a)(y,2),M=C[0],N=C[1];Object(i.useEffect)((function(){x((function(t){return new R(t.split,!0)}))}),[r]);var S=Math.floor(12/w.split),U=r?"\u5225\u306e\u753b\u50cf\u3092\u9078\u629e":"\u30d1\u30ba\u30eb\u306b\u3057\u305f\u3044\u753b\u50cf\u3092\u9078\u629e",W=function(t,e){var n=.5-(e-.5)/w.split,i=.5-(t-.5)/w.split;return"scale(".concat(w.split,") translate(").concat(100*n,"%, ").concat(100*i,"%) ")},F=function(t){return"entering"===t?"all ".concat(100,"ms ease-in-out"):"none"},A=function(t){var e="entering"===t||"entered"===t,n=e?100*M.dj:0,i=e?100*M.di:0;return"translate(".concat(n,"%, ").concat(i,"%)")},D=function(){var t=w.move(M.i,M.j,M.di,M.dj);x(t),N({i:-1,j:-1,di:0,dj:0})};return Object(k.jsx)(l.a,{theme:L,children:Object(k.jsxs)(j.a,{component:"main",maxWidth:"xs",className:t.container,children:[Object(k.jsx)(h.a,{}),Object(k.jsxs)(u.a,{container:!0,spacing:4,children:[Object(k.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(k.jsx)(d.a,{component:"h1",variant:"h5",children:"\u306a\u3093\u3067\u3082\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb"})}),Object(k.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(k.jsxs)(p.a,{fullWidth:!r,variant:"contained",color:"primary",component:"label",children:[U,Object(k.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){var e=t.target.files,n=e&&e.length?e[0]:null;if(n){var i=new Image;i.onload=function(){URL.revokeObjectURL(i.src),m("".concat(i.naturalHeight/i.naturalWidth*100,"%"))},i.src=URL.createObjectURL(n);var r=new FileReader;r.readAsDataURL(n),r.onload=function(){var t=r.result;a(t)}}}})]})}),r&&Object(k.jsx)(u.a,{item:!0,container:!0,xs:12,children:w.panels.map((function(e,n){return n<1||w.split<n?null:Object(k.jsx)(u.a,{item:!0,container:!0,direction:"row",className:t.row,children:e.map((function(e,i){return i<1||w.split<i?null:Object(k.jsx)(v.a,{in:M.i===n&&M.j===i,timeout:100,onEntered:D,children:function(a){return Object(k.jsx)(u.a,{item:!0,container:!0,xs:S,justify:"center",style:{transition:F(a),transform:A(a)},children:Object(k.jsx)("div",{className:t.imgWrapper,style:{paddingTop:b},children:(!e.isLowerRight||w.solved())&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("img",{src:r,alt:"\u9078\u629e\u753b\u50cf",className:t.img,style:{transform:W(e.i,e.j)}}),!w.solved()&&Object(k.jsx)("button",{type:"button",className:t.button,onClick:function(){return function(t,e){var n=w.getMovingDirection(t,e),i=Object(o.a)(n,2),r=i[0],a=i[1];0===r&&0===a||N({i:t,j:e,di:r,dj:a})}(n,i)},children:" "})]})})})}},e.key())}))},e[0].key())}))}),w.solved()&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(k.jsx)(d.a,{component:"h1",variant:"h5",children:"\u5b8c\u6210\uff01\uff01"})}),Object(k.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(k.jsx)(p.a,{variant:"contained",color:"secondary",className:t.twitter,onClick:function(){var t=encodeURIComponent("ryochansq.github.io/slide-puzzle/\n\n#\u306a\u3093\u3067\u3082\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb"),e="https://twitter.com/intent/tweet?text=".concat(t);window.open(e)},children:"Twitter\u3067\u5171\u6709"})})]}),Object(k.jsx)(u.a,{item:!0,container:!0,justify:"flex-end",children:Object(k.jsxs)(d.a,{variant:"caption",children:["\u958b\u767a\uff1a"," ",Object(k.jsx)(f.a,{href:"https://twitter.com/ryochan_metal",target:"_blank",children:"@ryochan_metal"})]})})]})]})})};c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(C,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.4d32c63f.chunk.js.map