(this["webpackJsonpslide-puzzle"]=this["webpackJsonpslide-puzzle"]||[]).push([[0],{37:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(11),c=n.n(a),s=(n(37),n(21)),o=n(61),l=n(62),u=n(63),h=n(64),j=n(65),p=n(59),d=n(66),f=n(30),b=n(17),v=function t(e,n,i){var r=this;Object(b.a)(this,t),this.i=void 0,this.j=void 0,this.isLowerRight=void 0,this.calcKey=function(t,e){return 100*t+e},this.key=function(){return r.calcKey(r.i,r.j)},this.isRightPosition=function(t,e){return r.calcKey(t,e)===r.key()},this.i=e,this.j=n,this.isLowerRight=i},m=[-1,0,0,1],O=[0,-1,1,0],g=function t(e,n){var i=this;Object(b.a)(this,t),this.panels=void 0,this.split=void 0,this.onClick=function(e,n){for(var r=0;r<4;r+=1){var a=e+m[r],c=n+O[r];if(i.panels[a][c].isLowerRight){var s=i.panels.map((function(t){return t.map((function(t){return new v(t.i,t.j,t.isLowerRight)}))}));s[e][n]=i.panels[a][c],s[a][c]=i.panels[e][n];var o=new t(i.split,!1);return o.panels=s,o}}return i},this.solved=function(){for(var t=!0,e=0;e<i.split+2;e+=1)for(var n=0;n<i.split+2;n+=1)i.panels[e][n].isRightPosition(e,n)||(t=!1);return t};for(var r=Object(f.a)(Array(e+2)).map((function(){return Array(e+2).fill(new v(-1,-1,!1))})),a=0;a<e+2;a+=1)for(var c=0;c<e+2;c+=1)r[a][c]=new v(a,c,a===e&&c===e);if(n)for(var s=e,o=e,l=0;l<1e3;l+=1){var u=Math.floor(4*Math.random()),h=s+m[u],j=o+O[u];if(h>=1&&h<=e&&j>=1&&j<=e){var p=new v(r[s][o].i,r[s][o].j,r[s][o].isLowerRight),d=new v(r[h][j].i,r[h][j].j,r[h][j].isLowerRight);r[h][j]=p,r[s][o]=d,s=h,o=j}}this.panels=r,this.split=e},w=n(3),x=Object(p.a)((function(){return Object(d.a)({container:{userSelect:"none"},imgWrapper:{position:"relative",width:"100%",overflow:"hidden"},img:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},button:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",color:"transparent",cursor:"pointer",padding:0}})})),y=function(){var t=x(),e=Object(i.useState)(void 0),n=Object(s.a)(e,2),r=n[0],a=n[1],c=Object(i.useState)("100%"),p=Object(s.a)(c,2),d=p[0],f=p[1],b=Object(i.useState)(new g(4,!1)),v=Object(s.a)(b,2),m=v[0],O=v[1];Object(i.useEffect)((function(){O((function(t){return new g(t.split,!0)}))}),[r]);var y=Math.floor(12/m.split),R=r?"Select another image":"Select image",k=function(t,e){var n=.5-(e-.5)/m.split,i=.5-(t-.5)/m.split;return"scale(".concat(m.split,") translate(").concat(100*n,"%, ").concat(100*i,"%) ")};return Object(w.jsxs)(o.a,{component:"main",maxWidth:"xs",className:t.container,children:[Object(w.jsx)(l.a,{}),Object(w.jsxs)(u.a,{container:!0,spacing:4,children:[Object(w.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(w.jsx)(h.a,{component:"h1",variant:"h5",children:"Slide Puzzle Maker"})}),Object(w.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(w.jsxs)(j.a,{fullWidth:!r,variant:"contained",color:"primary",component:"label",children:[R,Object(w.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){var e=t.target.files,n=e&&e.length?e[0]:null;if(n){var i=new Image;i.onload=function(){URL.revokeObjectURL(i.src),f("".concat(i.naturalHeight/i.naturalWidth*100,"%"))},i.src=URL.createObjectURL(n);var r=new FileReader;r.readAsDataURL(n),r.onload=function(){var t=r.result;a(t)}}}})]})}),r&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(u.a,{item:!0,container:!0,xs:12,children:m.panels.map((function(e,n){return n<1||m.split<n?null:Object(w.jsx)(u.a,{item:!0,container:!0,direction:"row",children:e.map((function(e,i){return i<1||m.split<i?null:Object(w.jsx)(u.a,{item:!0,container:!0,xs:y,justify:"center",children:Object(w.jsx)("div",{className:t.imgWrapper,style:{paddingTop:d},children:(!e.isLowerRight||m.solved())&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("img",{src:r,alt:"\u9078\u629e\u753b\u50cf",className:t.img,style:{transform:k(e.i,e.j)}}),!m.solved()&&Object(w.jsx)("button",{type:"button",className:t.button,onClick:function(){return function(t,e){var n=m.onClick(t,e);O(n)}(n,i)},children:" "})]})})},e.key())}))},e[0].key())}))})}),m.solved()&&Object(w.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(w.jsx)(h.a,{component:"h1",variant:"h5",children:"Congratulations!!"})})]})]})};c.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(y,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.2977fb23.chunk.js.map